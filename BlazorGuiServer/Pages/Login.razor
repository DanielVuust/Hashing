@using HashingDomain
@page "/login"

<h3>Login</h3>

@inject LoginManagerService LoginManagerService


<input @bind="@Username"/>
<input @bind="@Password"/>

<button @onclick="@TryLogin">Login</button>

<p>@DisplayText</p>

@code {
    protected string Username;
    protected string Password;
    protected string? DisplayText;
    private void TryLogin()
    {
        if (!LoginManagerService.TryLogin(this.Username, this.Password))
        {
            ShowNotValidLogin();
            return;
        }
        ShowLoginSuccessful();
    }

    private void ShowLoginSuccessful()
    {
        this.DisplayText = "Welcome User";
        //Better state management but is out of scope of hashing assignment so is not added. 
        StateHasChanged();
    }

    private void ShowNotValidLogin()
    {
        this.DisplayText = "Password/Username is not valid";

        StateHasChanged();
    }
}
